---
layout: post
title: A XAML Guy digs into ASP.NET MVC4 (Part 2 of ?)
excerpt: 
tags: 
comments: true
---

<a href="http://michaelcrump.net/a-xaml-guy-digs-into-asp-net-mvc4-part-1-of">Part 1 available here.</a><br>  <h3>Introduction</h3>  <p>Hey you came back! Well thank you very much. I’m kind of surprised to see the amount of attention the first part received. From being featured on <a href="http://blog.cwa.me.uk/2012/04/30/the-morning-brew-1095/">The Morning Brew</a> to being featured in the <a href="http://www.asp.net/community/spotlight">ASP.NET community Spotlight</a> it seems that I have hit on a topic that a lot of people are interested in. Let’s not waste anymore time and jump back into the series. </p>  <h3>The Series so far:</h3>  <p><a href="http://michaelcrump.net/a-xaml-guy-digs-into-asp-net-mvc4-part-1-of">Part 1</a> - Dives into setting up your MVC4 Development Environment and exploring the templates provided by Microsoft. We briefly discuss some differences between MVC3 and 4 and then add a new page to our project. We end the first part with a basic understanding of ViewBags Views Controllers Razor Syntax ActionLink and ActionResult.&#160; </p>  <h3>Back to MVC4</h3>  <p>We wrapped up the first part of the series by creating a new page in our MVC4 project named <strong>Products</strong>. Our application looks identical to the default template with exception of the Products link. </p>  <p><a href="http://michaelcrump.net/files/SNAGHTML33e0bf1a_634720156773446160.png"><img title="SNAGHTML33e0bf1a" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="SNAGHTML33e0bf1a" src="http://michaelcrump.net/files/SNAGHTML33e0bf1a_thumb_634720156796378601.png" width="836" height="392" /></a></p>  <p>We haven’t added any additional code but if we change the size of the browser window then we will see this :</p>  <p><a href="http://michaelcrump.net/files/SNAGHTML33e279d1_634720156804958766.png"><img title="SNAGHTML33e279d1" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="SNAGHTML33e279d1" src="http://michaelcrump.net/files/SNAGHTML33e279d1_thumb_634720156823367120.png" width="300" height="475" /></a></p>  <p>Did you notice that the content adapted to the window size? How did this happen? Well it is partially possible because of line 10 found in the _Layout.cshtml which is a meta tag named viewport. This will match my layout width with my device width. As the layout changes so does the content. In MVC3 we had to manually add this to our page and in MVC4 it is added automatically.</p>  <pre class="brush: xml;"> &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot; /&gt;</pre>    <p>The other piece to the puzzle (look at the Register and Log in buttons on the second image) is the CSS styling found in <strong>Content -&gt; Site.css</strong>. You can scroll down the page to line 463 and you will see the following code snippet: </p>    <pre class="brush: css;">/********************  *   Mobile Styles   *  ********************/  @media only screen and (max-width: 850px) {    /* header  ----------------------------------------------------------*/  header .float-left  header .float-right {      float: none;  }</pre>    <p>In this sample we will see that we are using a <a href="http://www.w3.org/TR/css3-mediaqueries/">CSS3 media queries</a> to assign specific CSS depending on the device width.</p>    <p>If we go ahead and comment out the CSS3 Media Query and the Meta Tag and look at this in a mobile browser (like <a href="http://www.opera.com/developer/tools/mobile/">Opera Mobile</a>) then it will look like the following: </p>    <p><a href="http://michaelcrump.net/files/SNAGHTML33f6c774_634720156835847360.png"><img title="SNAGHTML33f6c774" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="SNAGHTML33f6c774" src="http://michaelcrump.net/files/SNAGHTML33f6c774_thumb_634720156849731627.png" width="330" height="484" /></a></p>    <p>Very ugly! Our register and log in buttons still have the grey background and the Contact link is not lined up. The only reason that I decided to show this now is that is important to know how to get your web applications working with a variety of screen resolutions. We are in the age of mobile devices like phones and tablets. Adding ViewPort and understanding CSS3 Media Queries is one method to combat this but sometimes we need to create specific views in our MVC4 application. (more on that later)</p>    <h3>Exploring Mobile Browsers a bit further before moving on.</h3>    <p>I’m a big fan of using the Windows Phone 7 emulator that ships with Windows Phone SDK but unfortunately it is not supported in VS11 Beta. That is ok though as Opera has a pretty solid mobile browser available to download and it works just fine on Windows 8. You can download it by visiting: <a href="http://www.opera.com/developer/tools/mobile/">http://www.opera.com/developer/tools/mobile/</a>.</p>    <p>Once that is downloaded and installed then you can easy switch profiles to target the device you wish to optimize for. You can also change resolution pixel density and the preferred input.&#160; In my case I left it as custom and hit Launch but I’m sure it would be fun to test with the Kindle Fire profile. </p>    <p><a href="http://michaelcrump.net/files/SNAGHTML356e8186_634720156855659741.png"><img title="SNAGHTML356e8186" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="SNAGHTML356e8186" src="http://michaelcrump.net/files/SNAGHTML356e8186_thumb_634720156871104038.png" width="543" height="366" /></a></p>    <p>Once it is launched then you can see what your application looks like in a mobile browser with your specific settings. </p>    <p><a href="http://michaelcrump.net/files/SNAGHTML35767862_634720156893724473.png"><img title="SNAGHTML35767862" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="SNAGHTML35767862" src="http://michaelcrump.net/files/SNAGHTML35767862_thumb_634720156916656914.png" width="344" height="530" /></a></p>    <h3>Back to our App – Some Quick Fixes</h3>    <p>Two things that I think we should fix before going further: </p>    <ul>    <li>The “your logo here” </li>      <li>The Page Title </li>  </ul>    <p>We can fix the “your logo here” by going into the _Layout.cshtml and changing line 16 to something similar to the following: </p>    <pre class="brush: xml;">&lt;p class=&quot;site-title&quot;&gt;@Html.ActionLink(&quot;Sell Something&quot; &quot;Index&quot; &quot;Home&quot;)&lt;/p&gt;</pre>    <p>Next up we need to fix the Page Title by default it looks something like this for our Products page: <em>Products Page - My ASP.NET MVC Application.</em></p>    <p>We can fix that by going to line 5 in our _Layout.cshtml page and changing it to something like: </p>    <pre class="brush: xml;">&lt;title&gt;@ViewBag.Title - Sell Something&lt;/title&gt;</pre>  In case you didn’t notice we did both of these changes in the _Layout.cshtml where the changes would carry over to all of our pages. We want to make sure the ViewBag.Title remains in the title tag as that will give us the current page they are on. It is also worth noting here that the changes would not affect other views with a name of say ViewName.mobile.cshtml.&#160;&#160; <h3>Creating Mobile Specific Views in our MVC4 application with the help of Recipes</h3>    <p>Recipes? Is this something that I use to help me cook a dish? No recipes in MVC4 are what <a href="http://haacked.com/archive/2011/07/13/asp-net-mvc-4-roadmap.aspx">Phil Haack</a> describes as “scaffolding on steroids”. The
