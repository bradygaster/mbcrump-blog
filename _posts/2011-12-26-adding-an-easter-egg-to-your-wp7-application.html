---
layout: post
title: Adding an Easter Egg to your WP7 Application
excerpt: 
tags: 
comments: true
---

<h3>Introduction</h3>  <p>I was asked the other day how to detect if a user has touched a certain part of the screen. I created some sample code for them but decided that it might make a fun Easter egg as well.&#160; It does this by comparing the X and Y axis of the users current touch point to the location that the “M” exists. Basically this application will detect if your user is touching the letter M as shown below.</p>  <p><a href="http://michaelcrump.net/files/image_634604843596887928.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://michaelcrump.net/files/image_thumb_634604843602660039.png" width="240" height="125" /></a></p>  <p>&#160;</p>  <h3>The User Interface</h3>  <p>Very simple just add in the following XAML to the MainPage.xaml : </p>  <pre class="brush: xml;">&lt;!--ContentPanel - place additional content here--&gt;  &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;120120&quot;&gt;      &lt;TextBlock x:Name=&quot;txtName&quot; FontSize=&quot;56&quot; Foreground=&quot;Red&quot; /&gt;  &lt;/Grid&gt;</pre>    <p>I’ve added a TextBlock just to show you the current X and Y coordinates that the user has touched. It will also show you when the user has started and stop touching the device. </p>    <h3>The Code</h3>    <pre class="brush: csharp;">// Constructor  public MainPage()  {    InitializeComponent();    Touch.FrameReported += new      TouchFrameEventHandler(Touch_FrameReported);  }    void Touch_FrameReported(object sender TouchFrameEventArgs e)  {    TouchPoint mainTouchPoint = e.GetPrimaryTouchPoint(ContentPanel);         Point position = mainTouchPoint.Position;          switch (mainTouchPoint.Action)    {      case TouchAction.Move:        txtName.Text = String.Format(&quot;x: {0}  y: {1}&quot;position.X position.Y);        if (position.X == 20 &amp;&amp; position.Y == -132) MessageBox.Show(&quot;Secret Hit&quot;);        break;      case TouchAction.Up:        txtName.Text = &quot;Touch Ended&quot;;        break;      case TouchAction.Down:        txtName.Text = &quot;Touch Started&quot;;                  break;    }  }</pre>        <p>This code is fairly simple as it just adds an event handler for Touch.FrameReported. Inside the method we call GetPrimaryTouchPoint and pass it our ContentPanel (You can of course pass it any UI Element). Now that we have our main touch point we can get the current position the user is touching. The last thing to point out is by calling mainTouchPoint we can see when the TouchAction is Up Down or Moving. Pretty powerful stuff with just a few lines of code. </p>    <h3>So how did you know the X and Y positions of the letter “M”?</h3>    <p>I ran the application and moved the cursor to the position that I wanted the easter egg to occur in then I added the if…then… statement inside of the TouchAction.Move switch statement. </p>    <h3>The Demo</h3>    <p>Here you will see a demo of what this project accomplishes. You can <a href="http://michaelcrump.net/get/MikeEasterEgg.zip" target="_blank">download the source code</a> as well. </p>    <p>&#160;<a href="http://michaelcrump.net/files/WP7EasterEgg_634604843634640654.gif"><img style="display: inline" title="WP7EasterEgg" alt="WP7EasterEgg" src="http://michaelcrump.net/files/WP7EasterEgg_thumb_634604843666621269.gif" width="263" height="490" /></a></p>    <h3>Wrap-up</h3>    <p>As you can see from this post it really just takes a few lines to get this up and running. It will also work even if the user switches screen orientation.&#160; If you have any questions then feel free to contact <a href="http://michaelcrump.net/about-me">me</a>. Also don’t forget to subscribe to my <a href="http://feeds.feedburner.com/MichaelCrump">RSS feed</a> and follow me on <a href="http://twitter.com/mbcrump">twitter</a>.</p>
